
                          HDF 4.2 Release 2-post*
                          October 4, 2007

INTRODUCTION

This document describes the differences between HDF 4.2r2 and
HDF 4.2r2-post*.  It is written for people who are familiar with
previous releases of HDF and wish to migrate to HDF 4.2r2.

The HDF 4.2r2 documentation can be found on the THG ftp server 
(ftp.hdfgroup.org) in the directory:

     ftp://ftp.hdfgroup.org/HDF/Documentation/

First-time HDF users are encouraged to read the FAQ for this
release for more information about HDF.  Also see the home page 
for HDF at:

     http://hdfgroup.org/

If you have any questions or comments, please send them to:

     help@hdfgroup.org

CONTENTS

- New features and changes
  -- Configuration
  -- Library
  -- Utilities
- Support for new platforms and compilers
- Bugs fixed since HDF4.2r2
  -- Utilities
  -- Library
  -- Configuration
- Documentation
- Platforms tested
- Known problems

New features and changes
========================
    Configuration
    ============= 
     

    Library
    ========= 

	- Modified library and configure to work in absence of the
	  NetCDF-3 header files when HDF4 library is configured with the --disable-netcdf
	  flag. This feature was requested by the HDF-EOS developer. In this case
	  HDF4 netcdf.h file is used and installed under the "hdf4_netcdf.h" name.
							EIP 2007-10-30
	- Note that the previous change on SDnametoindex was backed out.  It 
	  only returns the first variable of the requested name, as the 
	  original version of this function.  The variable can be an SDS or 
	  a coordinate variable.  With this behavior, if there are more than
	  one variable with the same name in the file, care must be taken to
	  retrieve the desired variable.  Please see new APIs in the next 
	  item for a way to handle non-uniquely named variables.  The behavior 
	  of SDnametoindex will be documented in FAQs, documentation, and 
	  Newsletter.
							BMR 2008-01-17

	- Added new APIs to SD interface:
	  + SDgetnumvars_byname: Given a name, returns the number of variables 
		in a file with that same name
	  + SDnametoindices: Given a name, returns a list of indices of all 
		the variables in a file with that same name
	  With these new APIs, users can check if an SDS name or coordinate 
	  variable's name is not unique and retrieve the named variables and 
	  examine them.
							BMR 2008-01-17


    Utilities
    ========= 
         

Support for new platforms and compilers
=======================================

Bugs fixed since HDF4.2r2
=========================
    Utilities
    ========= 

    Library
    ========= 

    Configuration
    ============= 
       - libhdf4.settings file was not installed by make install command;
         fixed
                                                         EIP, 2007-10-09

Documentation
==============

Platforms tested
================

HDF 4.2 Release 2 has been tested on the following platforms:

                                  
    AIX 5.3 (32/64 bit)           xlc 7.0.0.0
    (copper)                      xlf 9.1.0.3

    FreeBSD 6.2 (32- and 64-bit)  gcc  and f77 GNU 3.4.6
    (duty and liberty)            GNU Fortran (GCC) 4.2.2 20070905 

    HP-UX B.11.23 (32- and 64-bit)HP aC++/ANSI C B3910B A.06.02
    (sirius)                      HP F90 v3.1 

    IRIX64 6.5                    MIPSpro cc 7.4.4m
    (ucar mop1 64 & n32)          F90 MIPSpro 7.4.4m 

    Linux 2.4.21-47.ELsmp #1 SMP  gcc and f77 3.2.3
        i686 i386 GNU/Linux
    (osage)

    Linux 2.6.9-42.0.10.ELsmp #1  gcc (GCC) 3.4.6
        SMP i686 i386             G95 (GCC 4.0.3 (g95 0.91!) Nov 21 2006)
    (kagiso)                      PGI C, Fortran, C++ 6.2-5 32-bit 
                                  icc (ICC) 9.1 
                                  Intel(R) Fortran Compiler for 32-bit 
                                      applications, Version 9.1 

    Linux 2.6.16.46-0.12-debug #1 
        SMP ia64 GNU/Linux        Intel(R) C++ Version 10.0.025
    (ucar hir1)                   Intel(R) Fortran Itanium(R) Version 10.0.025

    Linux 2.6.16.46-0.14-smp #1   Intel(R) C++ for Intel(R) EM64T Ver. 9.1.037
        SMP x86_64 GNU/Linux      Intel(R) Fortran Intel(R) EM64T Ver. 9.1.031
    (smirom)                      gcc (GCC) 4.1.2 20070115 (SUSE Linux)
                                  G95 (GCC 4.0.3 (g95 0.91!) Apr 19 2007)

    Linux 2.6.5-7.283-rtgfx Altix 
        SMP ia64                  Intel(R) C++ Version 9.0
    (cobalt)                      Intel(R) Fortran Itanium(R) Version 9.0


    SunOS 5.8 32- and 64-bit      Sun WorkShop 6 update 2 C 5.3
    (sol)                         Sun WorkShop 6 update 2 Fortran 95 6.2

    SunOS 5.10 32- and 64-bit     Sun WorkShop 6 update 2 C 5.8
    (linew)                       Sun WorkShop 6 update 2 Fortran 95 8.2
                                  Patch 121019-06 


    IA-64 Linux 2.4.21.SuSE_292.til1
        ia64                      gcc (GCC) 3.2.2
    (NCSA tg-login)               Intel(R) C++ Version 8.0
                                  Intel(R) Fortran Compiler Version 8.0

    Windows XP                    Visual Studio 6.0
                                  Visual Studio .NET (with Intel Fortran 9.1)
                                  Visual Studio 2005 (with Intel Fortran 9.1)
                                  cygwin (gcc 3.4.4)
                                  
    Windows Vista                 Visual Studio 2005 (no fortran)
                                  
    MAC OS X Intel                Darwin 8.10.1
                                  i686-apple-darwin8-gcc-4.0.1 (GCC) 4.0.1
                                  g95 0.91
                                  gfortran GNU Fortran (GCC) 4.3.0 20070518

                                  

Known problems
==============

o  hdfcomp fails on HPUX 11.23 for the 64-bit version of the library

o  This release does not support VMS systems.

o  N-Bit compression is not supported with Fortran APIs.

o  Using both fill-value and compression on SD datasets does not work.

o  For existing data prior to HDF 4.2r2, when a one-dimensional SDS has the 
   same name as the dimension scale, subsequent accesses to the dimension scale
   or the SDS might produce undesired results.  It is recommended to check
   for name duplication first.  See "New features and changes" section for 
   details.

o  When using PGI compilers, make sure that the JPEG library is also compiled 
   with a PGI C compiler; linking with JPEG built with gcc causes JPEG library 
   tests to fail.  To bypass the problem:

       x Set LIBS flag to $PGI_JPEG_INSTALL_DIR/lib/libjpeg.a
         where $PGI_JPEG_INSTALL_DIR points to the installation directory
         for the PGI-compiled JPEG library:

         setenv LIBS $PGI_JPEG_INSTALL_DIR/lib/libjpeg.a

       x Use the --with-jpeg=$PGI_JPEG_INSTALL_DIR configure flag to 
         configure with the PGI-compiled JPEG library:

         ./configure --with-jpeg=$PGI_JPEG_INSTALL_DIR --with-zlib....

