cmake_minimum_required (VERSION 2.8)
PROJECT (HDF4_MFHDF)

ADD_SUBDIRECTORY (${HDF4_MFHDF_SOURCE_DIR}/libsrc   ${HDF4_MFHDF_BINARY_DIR}/libsrc)

IF (HDF4_BUILD_TOOLS)
  ADD_SUBDIRECTORY (${HDF4_MFHDF_SOURCE_DIR}/dumper   ${HDF4_MFHDF_BINARY_DIR}/dumper)
  ADD_SUBDIRECTORY (${HDF4_MFHDF_SOURCE_DIR}/hdfimport   ${HDF4_MFHDF_BINARY_DIR}/hdfimport)
  ADD_SUBDIRECTORY (${HDF4_MFHDF_SOURCE_DIR}/hdiff   ${HDF4_MFHDF_BINARY_DIR}/hdiff)
  ADD_SUBDIRECTORY (${HDF4_MFHDF_SOURCE_DIR}/hrepack   ${HDF4_MFHDF_BINARY_DIR}/hrepack)
  ADD_SUBDIRECTORY (${HDF4_MFHDF_SOURCE_DIR}/ncdump   ${HDF4_MFHDF_BINARY_DIR}/ncdump)
ENDIF (HDF4_BUILD_TOOLS)

IF (HDF4_BUILD_FORTRAN)
  ADD_SUBDIRECTORY (${HDF4_MFHDF_SOURCE_DIR}/fortran ${HDF4_MFHDF_BINARY_DIR}/fortran)
ENDIF (HDF4_BUILD_FORTRAN)

IF (HDF4_BUILD_EXAMPLES)
  ADD_SUBDIRECTORY (${HDF4_MFHDF_SOURCE_DIR}/examples   ${HDF4_MFHDF_BINARY_DIR}/examples)
ENDIF (HDF4_BUILD_EXAMPLES)

#-----------------------------------------------------------------------------
# Dashboard and Testing Settings
#-----------------------------------------------------------------------------
IF (BUILD_TESTING)
  ADD_SUBDIRECTORY (${HDF4_MFHDF_SOURCE_DIR}/test     ${HDF4_MFHDF_BINARY_DIR}/test)
    
  IF (HDF4_BUILD_TOOLS)
#    ADD_SUBDIRECTORY(${HDF4_MFHDF_SOURCE_DIR}/ncgen   ${HDF4_MFHDF_BINARY_DIR}/ncgen)
    ADD_SUBDIRECTORY (${HDF4_MFHDF_SOURCE_DIR}/nctest   ${HDF4_MFHDF_BINARY_DIR}/nctest)
  ENDIF (HDF4_BUILD_TOOLS)
ENDIF (BUILD_TESTING )
