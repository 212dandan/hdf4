From: General Support <support@unidata.ucar.edu>                 
Subject: netCDF FAQ


                 Frequently Asked Questions About netCDF

This article contains answers to some of the most frequently asked netCDF
questions on the netcdfgroup mailing list and in the email sent to
support@unidata.ucar.edu.  The list is archived in pub/netcdf/FAQ on
unidata.ucar.edu, and is currently maintained by Russ Rew
(russ@unidata.ucar.edu).

List of Questions:

    1:  What Is netCDF?
    2:  How do I get the netCDF software package?
    3:  What does netCDF run on?
    4:  When will the next version be available?  What changes are included?
    5:  What is the connection between netCDF and CDF?
    6:  What is the connection between netCDF and HDF?
    7:  Is netCDF available for the Apple Macintosh?
    8:  What are some references to netCDF?
    9:  What are the files in pub/netcdf/ on unidata.ucar.edu?
    10: Why do I get XDR error messages when trying to write data?
    11: What is the best way to represent [some particular data] using netCDF?
    12: Are there plans to add facilities for data compression to netCDF?
    13: What utilities are available for netCDF?
    14: What is the status of implementing additional netCDF operators?
    15: Is there a mailing list for netCDF discussions and questions?
    16: How do I make a bug report?
    17: How widely is netCDF used?
    18: Is there any WAIS or gopher access to netCDF information?

1:  What Is netCDF?

A:  NetCDF (network Common Data Form) is an interface for scientific data
    access and a freely-distributed software library that provides an
    implementation of the interface.  It was developed by Glenn Davis, Russ
    Rew, and Steve Emmerson at the Unidata Program Center in Boulder,
    Colorado.  The netCDF library also defines a machine-independent format
    for representing scientific data.  Together, the interface, library, and
    format support the creation, access, and sharing of scientific data.

    netCDF data is:

    - Self-Describing.  A netCDF file includes information about the data it
      contains.

    - Network-transparent.  A netCDF file is represented in a form that can
      be accessed by computers with different ways of storing integers,
      characters, and floating-point numbers.

    - Direct-access.  A small subset of a large dataset may be accessed
      efficiently, without first reading through all the preceding data.

    - Appendable.  Data can be appended to a netCDF dataset along one
      dimension without copying the dataset or redefining its structure.
      The structure of a netCDF dataset can be changed, though this
      sometimes causes the dataset to be copied.

    - Sharable.  One writer and multiple readers may simultaneously access
      the same netCDF file.

2:  How do I get the netCDF software package?

A:  Via anonymous FTP from

	host:	unidata.ucar.edu [128.117.140.3]
	file:	pub/netcdf/netcdf.tar.Z

    Make sure the file is transmitted in BINARY mode.  This is version 2.3,
    last updated in April 1993.

3:  What does netCDF run on?

A:  Version 2.3 of netCDF has been tested on the following platforms:

	CRAY Y-MP	  UNICOS 6.1.6
	DEC VAX		  VMS 5.5-2
	DECstation 3000	  ULTRIX V4.3
	HP-9000/7xx	  HPUX 9.0
	IBM PS/2	  MSDOS 5.0
	IBM PS/2	  OS/2
	IBM RS-6000	  AIX 3.2
	SGI Iris	  IRIX 4.0.5F
	SPARCstation	  Solaris 2.1
	SPARCstation	  SunOS 4.1.3

    The experience of outside developers indicates that netCDF is relatively
    easy to port to any system that has a C compiler and an XDR library
    (eXternal Data Representation, used for NFS and usually supplied by
    vendors).

4:  What has changed since the netCDF 2.2 release in December 1991?

A:  NetCDF 2.3, made available in April 1993, contains bug fixes, portability
    enhancements, performance enhancements, and a few new capabilities.

    Some new optimizations for the library result in significant speedups
    for accessing cross-sections involving non-contiguous data.

    New capabilities include some additional interfaces that provide a more
    general form of hyperslab access.  This supports sub-sampling along
    specified dimensions and a mapping between the points of the hyperslab
    and the memory locations of the corresponding values.  In a generalized
    hyperslab, an index mapping vector is used to define the mapping between
    points in the generalized hyperslab and the memory locations of the
    corresponding values, so data values that are written or read need no
    longer be contiguous in memory.

    There are also some new interfaces that can be used to write, read, and
    inquire about records, where a record may contain multiple variables of
    different types and shapes.  Where before you had to access a record's
    worth of data using multiple calls, now you will be able to use a single
    call.

    The ncdump utility supports several new command-line options including
    the ability to specify for which variables data values will be output,
    to provide brief annotations in the form of CDL comments to identify
    data values for large multidimensional variables, or to provide full
    annotations in the form of trailing CDL comments for every data value.

    The current release also includes a prototype implementation of a C++
    interface for the netCDF data access library.  It provides all the
    functionality of the previous C interface, improves type safety by
    eliminating use of void* pointers, and is somewhat simpler to use than
    the C interface.  With the C++ interface, no IDs are needed for netCDF
    components, there is no need to specify types when creating attributes,
    and less indirection is required for dealing with dimensions.  However,
    since this is a prototype interface and implementation, it may be
    changed before a supported version is released.

5:  What is the connection between netCDF and CDF?

A:  CDF was developed at the NASA Space Science Data Center at Goddard, and
    is freely available.  It was originally a VMS FORTRAN interface for
    scientific data access.  Unidata reimplemented the library from scratch
    to use XDR for a machine-independent representation, designed the CDL
    text representation for netCDF data, wrote a User's Guide and made other
    additions including aggregate data access, single-file implementation,
    named dimensions, and variable-specific attributes.

    NetCDF and CDF have evolved independently.  CDF now supports many of the
    same features as netCDF (aggregate data access, XDR representation,
    single-file representation, variable-specific attributes), but some
    differences remain (netCDF doesn't support native-mode representation,
    CDF doesn't support named dimensions).  There is no compatibility
    between data in CDF and netCDF form, and as yet no translation software
    exists to convert data in one form to data in the other form.

6:  What is the connection between netCDF and HDF?

A:  The National Center for Supercomputing Applications (NCSA) developed the
    HDF software and makes it freely available.  HDF is an extensible data
    format for self-describing files that was developed independently of
    netCDF.  Applications and utilities based on HDF are available that
    support raster-image manipulation and display and browsing through
    multidimensional scientific data. The HDF software includes a package of
    routines for accessing each HDF data type, as well as a lower-level
    interface for building packages to support new types.  HDF supports both
    C and Fortran interfaces, and it has been successfully ported to a wide
    variety of machine architectures and operating systems.  HDF emphasizes
    a single common format for data, on which many interfaces can be built.

    NCSA has implemented software that provides a netCDF interface to HDF.
    With this software, it is possible to use the netCDF calling interface
    to place data into an HDF file.  The netCDF calling interface has not
    changed and netCDF files stored in XDR format are readable, so existing
    programs and data will still be usable (although programs will need to
    be relinked to the new library).  There is currently no support for the
    mixing of HDF and netCDF structures.  For example, a raster image can
    exist in the same file as a netCDF object, but you have to use the
    Raster Image interface to read the image and the netCDF interface to
    read the netCDF object.  The other HDF interfaces are currently being
    modified to allow multi-file access, closer integration with the netCDF
    interface will probably be delayed until the end of that project.

    Eventually, it may be possible to integrate netCDF objects with the
    rest of the HDF tool suite.  Such an integration will then allow tools
    written for netCDF and tools written for HDF to both interact
    intelligently with the new data files.
   
7:  Is netCDF available for the Apple Macintosh?

A:  Unidata doesn't test or maintain a version of netCDF for Macintoshes,
    but see the files in the directory pub/netcdf/mac/ on unidata.ucar.edu
    for notes and Macintosh MPW makefiles for porting netCDF to an Apple
    Macintosh. These were contributed by Chuck Denham, U.S. Geological
    Survey.

8:  What are some references to netCDF?

A:  Hard-copies of some of these are available from the Unidata Program
    Center, P.O. Box 3000, Boulder, CO 80307-3000:

    Rew, R.  K., G. P.  Davis, and S. Emmerson, NetCDF User's Guide, An
    Interface for Data Access, Version 2.3, April 1993.  (Available from
    Unidata or by anonymous FTP from unidata.ucar.edu in the file
    pub/netcdf/guide.ps.Z)

    Rew, R. K. and G. P. Davis, "NetCDF: An Interface for Scientific Data
    Access," Computer Graphics and Applications, IEEE, pp. 76-82, July 1990.

    Rew, R. K. and G. P. Davis, "The Unidata netCDF: Software for Scientific
    Data Access," Sixth International Conference on Interactive Information
    and Processing Systems for Meteorology, Oceanography, and Hydrology,
    Anaheim, California, American Meteorology Society, February 1990.

    Jenter, H. L. and R. P. Signell, 1992. "NetCDF: A Freely-Available
    Software-Solution to Data-Access Problems for Numerical Modelers".
    Proceedings of the American Society of Civil Engineers Conference on
    Estuarine and Coastal Modeling. Tampa, Florida.  (Also available via
    anonymous FTP from sparky.er.usgs.gov in the file pub/netcdf.asce.ps)

    Fulker, D. W., "Unidata Strawman for Storing Earth-Referencing Data,"
    Seventh International Conference on Interactive Information and
    Processing Systems for Meteorology, Oceanography, and Hydrology, New
    Orleans, La., American Meteorology Society, January 1991.

9:  What are the files in pub/netcdf/ on unidata.ucar.edu?

A:  File                         Purpose

    README                 general information about netCDF

    FAQ			   this file of frequently asked questions

    utilities.txt          a list of software packages currently available or
			   under development for manipulating and displaying
			   netCDF data

    guide.ps.Z             a compressed PostScript file of the NetCDF User's
			   Guide.  This is included in the netcdf.tar.Z
			   distribution, so you don't need both.

    ncprogs.ps             a draft PostScript document describing an initial
			   set of netCDF operator and utility programs under
			   development

    ncprogs.txt            an ASCII version of ncprogs.ps

    conventions.txt	   a draft document of some proposed netCDF
			   conventions

    cdl/                   a directory containing some examples of CDL files
			   (an ASCII representation for netCDF files).

    msdos/		   a directory containing executables and binaries for
			   netCDF under MSDOS 5.0.  These can also be built
			   from the sources in netcdf.tar.Z, if you have the
			   necessary Microsoft compilers.

    mac/		   a directory containing notes and Macintosh MPW
			   makefiles for porting netCDF to an Apple
			   Macintosh.  These were contributed by Chuck
			   Denham, U.S.  Geological Survey.

10: Why do I get XDR error messages when trying to write data?

A:  Probably due to a write error, perhaps because of exceeding disk quotas,
    a full device, or permission problems.  The netCDF library is usually
    built on a vendor-supplied XDR library layer.  Sometimes errors occur in
    the XDR layer rather than the netCDF layer, and in this case the error
    messages from the XDR layer can be cryptic.  For example, if the user is
    writing data and exceeds a disk space quota, this might be detected
    first in the XDR layer.  Although we try to catch and elaborate on
    errors that occur in the XDR layer, sometimes there is not enough
    information passed up to calling routines from the XDR layer to make
    construction of a meaningful error message possible.

11: What is the best way to represent [some particular data] using netCDF?

A:  There are many ways to represent the same information in any
    general-purpose data model.  Choices left up to the user in the case of
    netCDF include which information to represent as variables or as
    variable attributes; what names to choose for variables, dimensions, and
    attributes; what order to use for the dimensions of multidimensional
    variables; what variables to include in the same netCDF file; and how to
    use variable attributes to capture the structure and meaning of data.
    We provide some guidelines in the NetCDF User's Guide (e.g Section
    2.3.2, ``Differences between Attributes and Variables''), but we've
    found that a little experience helps.  Occasionally we have decided it
    was useful to change the structure of netCDF files after experience with
    how the data is used.

12: Are there plans to add facilities for data compression to netCDF?

A:  We have no plans to add data compression to netCDF (although we do hope
    to eventually add a form of transparent data packing on write and
    unpacking on read whenever the reserved attributes "_Nbits", "_Scale",
    and "_Offset" are defined).

    Hyperslab access and direct access to individual array values conflict
    with most simple compression schemes.  With netCDF, the elements of an
    array variable can be filled in any order or as cross-sections in any
    direction.  NetCDF permits writing elements in one order and reading
    them later in different orders.

    Some compression methods require that all the data to be compressed are
    known before starting the compression.  Techniques like run-length
    encoding or anything that depends on exploiting similarities in nearby
    values can't be used if nearby values aren't all known at the time some
    of the data are to be written.

    An alternative that can be implemented above the netCDF library is to
    adopt a convention for compressed data that uses a "compression"
    attribute to encode the method of compression, e.g.

	    x:compression = "rle" ;

    for run-length encoding of the data in a variable x.  Then when you
    write the data, compress them into a bland array of bytes and write all
    the bytes.  Note that it would be difficult to define the size of such a
    variable in advance, since its compressed size depends on its values.
    You would also have to give up on hyperslab access for such variables,
    but instead read the compressed array in all at once and uncompress it
    before using it.

13: What utilities are available for netCDF?

A:  The only utilities available in the current netCDF distribution are
    ncdump and ncgen, for converting netCDF files to an ASCII human-readable
    form and for converting from the ASCII human-readable form back to a
    binary netCDF file or a C or FORTRAN program for generating the netCDF
    file.  In addition, the first release of the netcdf operators package,
    containing three general-purpose netCDF operators, is available from
    unidata.ucar.edu in the file ncopers.tar.Z.  See the description of the
    file utilities.txt in the answer to the question above on important
    files in /pub/netcdf on unidata.ucar.edu for more information.

14: What is the status of implementing additional netCDF operators?

A:  Work on additional netCDF operators has been suspended until we can get
    more programmer resources, due to a higher priority recently placed on
    development of an event-driven network data distribution system.
    Volunteers to implement one or more of the netCDF operators are hereby
    solicited.  We will coordinate community efforts to avoid duplication of
    effort, so before you volunteer to work on one of the planned netCDF
    operators, please contact support@unidata.ucar.edu to find out if
    someone else is already working on it.

15: Is there a mailing list for netCDF discussions and questions?

A:  Yes - there are two.  The mailing list

        netcdfgroup@unidata.ucar.edu

    has over two hundred readers and gateways; you can subscribe or
    unsubscribe to the mailing list by sending mail to

        netcdfgroup-adm@unidata.ucar.edu

    If you would prefer to get only a single daily digest of the postings to
    the netcdfgroup mailing list, subscribe instead to the netcdfdigest
    mailing list by sending a request to

	netcdfdigest-adm@unidata.ucar.edu

    All the postings to the netcdfgroup mailing list are archived in the
    file mail-archives/netcdfgroup available via anonymous FTP from
    unidata.ucar.edu.

16: How do I make a bug report?

A:  If you find a bug, send a description to 

        support@unidata.ucar.edu

    This is also a better address to use for questions or discussions about
    netCDF that you think are not appropriate for the entire netcdfgroup
    mailing list.

17: How widely is netCDF used?

A:  We don't really know, but the netcdfgroup and netcdfdigest mailing lists
    have 260 addresses, some of which are aliases to more addresses, in
    fourteen countries.  Users in several groups have adopted netCDF
    as a standard way to represent at least some kinds of scientific
    datasets.

    A group at the Woods Hole Oceanographic Institution have standardized on
    netCDF as part of a Basic Oceanographic Analysis Toolkit (BoaT).  The
    University of Hawaii School of Ocean and Earth Science Technology makes
    AVHRR images available in netCDF format via anonymous FTP.  NetCDF is
    being used by a group of researchers in geology and seismology at USGS
    in Woods Hole and at USGS in Reston.  Several groups within NASA have
    made use of netCDF for remotely sensed data.  Several netCDF users work
    at Los Alamos National Laboratory and Sandia.  Some users at Lawrence
    Livermore have defined an extension to netCDF used for support of data
    defined on nested meshes.  NOAA's Forecast System Laboratories have
    adopted netCDF as a data access interface for some of their systems and
    applications.  A group at the The National Center for Supercomputing
    Applications (NCSA) has implemented a prototype netCDF interface to
    their Hierarchical Data Format (HDF) software.  A group at NOAA/Pacific
    Marine Environmental Laboratory is using netCDF as part of a larger
    system for management, analysis, and display of oceanographic data.  The
    NOAA/PMEL Computer Planning Committee has endorsed netCDF as the
    preferred data format for the Laboratory.  Several researchers at CSIRO
    Division of Atmospheric Research in Australia are using netCDF.  A group
    at Battelle Pacific Northwest Laboratories has selected netCDF as a
    standard for some data sets in computational and experimental molecular
    chemistry.

    In the atmospheric sciences community, several application, analysis,
    and visualization packages already use netCDF as a data interface
    (Purdue's WXP, NCAR's PolyPaint, University of Washington's IVE,
    Unidata's YNOT) and several other such packages that use netCDF are
    under development.  For a list of these packages and contacts for more
    information about them, see the pub/netcdf/utilities.txt file on
    unidata.ucar.edu.

    Several commercial analysis and data visualization packages have been
    adapted to access netCDF data, including Spyglass Dicer, IBM
    Visualization Data Explorer, Research Systems' IDL, and Wavefront's Data
    Visualizer.

    The Analytical Instrument Association's (AIA) standards organization
    adopted netCDF as their standard for data interchange.  The AIA is a
    global vendor trade organization whose members include 60% of all
    instrument companies worldwide and 80% of those in the United States.
    The American Society for Mass Spectroscopy (ASMS) has decided to adopt
    netCDF for mass spectrometry data interchange.  Several standards
    organizations and companies are jointly developing global analytical
    data standards in a public forum called the "Analytical Data Interchange
    and Storage Standards (ADISS) Project".  The ADISS Project includes
    formal standards bodies (ISO, ASTM, IUPAC), government organizations
    (NIST), and scientific instrument and software vendors.  An AIA
    committee recently selected netCDF as the ADISS Project Analytical
    Information Model programming interface and toolkit.

18: Is there any WAIS or gopher access to netCDF information?

    Yes, `netcdf-group.src' is a WAIS source that provides a full-text
    search of the netcdfgroup mailing list archive and is registered with
    think.com for general use.

    Another WAIS source, `unidata-support-netcdf.src', provides a
    full-text search of the support questions and answers about netCDF
    provided by Unidata support staff.

    Both of these WAIS servers and access to other information about Unidata
    can be accessed most easily through the Unidata gopher server at
    gopher.unidata.ucar.edu.

