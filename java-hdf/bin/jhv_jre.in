#!/bin/csh -f

# Set up default variable values if not supplied by the user.

set JHVHOME=@JHVINST@   # where the HDF Java viewer is installed
set JAVAPATH=$JHVHOME/jre     # where Java is installed

set JHVICONPATH=$JHVHOME/lib/hdficons
set CPATH=$JHVHOME/lib/classes.zip

set SERVERPATH=@JAVASERVERPATH@
if (${?SERVERPATH} > 0) then
	set CPATH=$JHVHOME/lib/classes.zip:@JAVASERVERPATH@
endif

unset JAVAHOME
setenv CLASSPATH ""

if ($1 != "") then
	set JHVPATH=$1
else
	set JHVPATH=""
endif

if (-e /bin/uname) then
   set machtype=`/bin/uname -m`
else
   set machtype=unknown
endif

set JOPTS=""

if (${?LD_LIBRARY_PATH} == 0) then
        setenv LD_LIBRARY_PATH ""
endif

switch ( $machtype )
    case sun4*:
	# set lib
	setenv LD_LIBRARY_PATH $JHVHOME/lib/solaris:$JAVAPATH/lib/sparc:$LD_LIBRARY_PATH

	breaksw
    case i86*:
	# set lib
 	setenv LD_LIBRARY_PATH $JHVHOME/lib/i386:$LD_LIBRARY_PATH

	breaksw
  case i*86:
        # set lib
        setenv LD_LIBRARY_PATH $JHVHOME"/lib/linux-elf:"$JAVAPATH"/lib/"$machtype":"$LD_LIBRARY_PATH

        breaksw
  case IP*:
        # set lib
        setenv LD_LIBRARY_PATH $JHVHOME/lib/irix:$JAVAPATH/lib/sgi:$LD_LIBRARY_PATH

	breaksw
#   case 9000/*:
#
#        breaksw
    default:
	echo "Unknown machine type:  jhv may not work correctly"
        breaksw
endsw

$JAVAPATH/bin/jre -cp $CPATH $JOPTS ncsa.hdf.jhv.JHV -jhvpath $JHVHOME/bin -jhviconspath $JHVICONPATH $JHVPATH;
